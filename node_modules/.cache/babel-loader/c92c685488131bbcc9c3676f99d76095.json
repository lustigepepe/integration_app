{"ast":null,"code":"function createNewRow() {\n  var newForm = document.createElement('form'),\n      target = document.querySelector('div#ad-units'),\n      inner = '<div class=\\\"mdl-textfield mdl-js-textfield\\\">\\r\\n\\t<input class=\\\"mdl-textfield__input\\\" type=\\\"text\\\" id=\\\"sample1\\\">\\r\\n\\t<label class=\\\"mdl-textfield__label\\\" for=\\\"sample1\\\">sitename-lb<\\/label>\\r\\n<\\/div>\\r\\n<div class=\\\"mdl-textfield mdl-js-textfield\\\">\\r\\n\\t<input class=\\\"mdl-textfield__input\\\" type=\\\"text\\\" id=\\\"sample1\\\">\\r\\n\\t<label class=\\\"mdl-textfield__label\\\" for=\\\"sample1\\\">728x90,970x250,320x50<\\/label>\\r\\n<\\/div>\\r\\n<div class=\\\"mdl-textfield mdl-js-textfield\\\">\\r\\n\\t<input class=\\\"mdl-textfield__input\\\" type=\\\"text\\\" id=\\\"sample1\\\">\\r\\n\\t<label class=\\\"mdl-textfield__label\\\" for=\\\"sample1\\\">uap-sitename, wp-sitename<\\/label>\\r\\n<\\/div>';\n  newForm.innerHTML = inner;\n  target.appendChild(newForm);\n}\n\nfunction removeComma(string) {\n  var removed = string.replace(/,/g, ';');\n  return removed;\n}\n\nexport const generateCsv = rowData => {\n  const data = []; // globalPlacemnt = document.forms[0][0].value,\n  // formData = document.querySelectorAll('#ad-units form')\n\n  rowData.forEach((ob, index, arr) => {\n    // [\"sitename\", \"sitename\", \"sizes\", \",\", \"Seite;placement;place2\", \"_blank,\"]\n    var wSitePlacement = ob.website ? ob.website + \";\" : \"\" + ob.placement.replace(/,/g, ';');\n    const temp = [ob.unit, ob.unit, ob.sizes, \",\", wSitePlacement.trim(), \"_blank,\"];\n    data.push(temp);\n  });\n  console.log('rowData', data); // for (i = 0; i < formData.length; i++) {\n  //     dataRow = []\n  //     //AD CODE and NAME\n  //     dataRow.push(formData[i][0].value)\n  //     dataRow.push(formData[i][0].value)\n  //     //sizes\n  //     dataRow.push(removeComma(formData[i][1].value))\n  //     dataRow.push(',')\n  //     //placements\n  //     //case1: global placemnts + ad unit placement\n  //     if (document.forms[0][0].value != \"\" && formData[i][2].value != \"\") {\n  //         dataRow.push(removeComma((document.forms[0][0].value + ',' + formData[i][2].value)))\n  //     }\n  //     //case2: no global placement + ad unit placement\n  //     else if (document.forms[0][0].value == \"\" && formData[i][2].value != \"\") {\n  //         dataRow.push(removeComma(formData[i][2].value));\n  //     }\n  //     //case3: global placement + no ad unit placement;\n  //     else if (document.forms[0][0].value != \"\" && formData[i][2].value == \"\") {\n  //         dataRow.push(removeComma(document.forms[0][0].value));\n  //     }\n  //     dataRow.push('_blank,')\n  //     data.push(dataRow);\n  // }\n  // console.log(data)\n\n  var csv = '';\n  data.forEach(function (row) {\n    csv += row.join(',');\n    csv += \"\\n\";\n  });\n  console.log(csv);\n  var hiddenElement = document.createElement('a');\n  hiddenElement.href = 'data:application/octet-stream,' + encodeURIComponent(csv);\n  hiddenElement.target = '_blank';\n  hiddenElement.download = 'BulkUnits.csv';\n  hiddenElement.click();\n};","map":{"version":3,"sources":["/Users/hagen.handtke/Documents/urban_integration/src/services/CsvGenerationService.js"],"names":["createNewRow","newForm","document","createElement","target","querySelector","inner","innerHTML","appendChild","removeComma","string","removed","replace","generateCsv","rowData","data","forEach","ob","index","arr","wSitePlacement","website","placement","temp","unit","sizes","trim","push","console","log","csv","row","join","hiddenElement","href","encodeURIComponent","download","click"],"mappings":"AAAA,SAASA,YAAT,GAAwB;AACpB,MAAIC,OAAO,GAAGC,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAd;AAAA,MACIC,MAAM,GAAGF,QAAQ,CAACG,aAAT,CAAuB,cAAvB,CADb;AAAA,MAEIC,KAAK,GAAG,wpBAFZ;AAIAL,EAAAA,OAAO,CAACM,SAAR,GAAoBD,KAApB;AACAF,EAAAA,MAAM,CAACI,WAAP,CAAmBP,OAAnB;AACH;;AAED,SAASQ,WAAT,CAAqBC,MAArB,EAA6B;AACzB,MAAIC,OAAO,GAAGD,MAAM,CAACE,OAAP,CAAe,IAAf,EAAqB,GAArB,CAAd;AACA,SAAOD,OAAP;AACH;;AAED,OAAO,MAAME,WAAW,GAAIC,OAAD,IAAa;AAEpC,QAAMC,IAAI,GAAG,EAAb,CAFoC,CAGpC;AACA;;AAGAD,EAAAA,OAAO,CAACE,OAAR,CAAgB,CAACC,EAAD,EAAKC,KAAL,EAAYC,GAAZ,KAAoB;AAEhC;AACA,QAAIC,cAAc,GAAGH,EAAE,CAACI,OAAH,GAAaJ,EAAE,CAACI,OAAH,GAAa,GAA1B,GAAgC,KAAKJ,EAAE,CAACK,SAAH,CAAaV,OAAb,CAAqB,IAArB,EAA2B,GAA3B,CAA1D;AACA,UAAMW,IAAI,GAAG,CAACN,EAAE,CAACO,IAAJ,EAAUP,EAAE,CAACO,IAAb,EAAmBP,EAAE,CAACQ,KAAtB,EAA6B,GAA7B,EAAkCL,cAAc,CAACM,IAAf,EAAlC,EAAyD,SAAzD,CAAb;AACAX,IAAAA,IAAI,CAACY,IAAL,CAAUJ,IAAV;AACH,GAND;AAOAK,EAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBd,IAAvB,EAdoC,CAgBpC;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;;AAEA,MAAIe,GAAG,GAAG,EAAV;AACAf,EAAAA,IAAI,CAACC,OAAL,CAAa,UAAUe,GAAV,EAAe;AACxBD,IAAAA,GAAG,IAAIC,GAAG,CAACC,IAAJ,CAAS,GAAT,CAAP;AACAF,IAAAA,GAAG,IAAI,IAAP;AACH,GAHD;AAKAF,EAAAA,OAAO,CAACC,GAAR,CAAYC,GAAZ;AACA,MAAIG,aAAa,GAAG/B,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAApB;AACA8B,EAAAA,aAAa,CAACC,IAAd,GAAqB,mCAAmCC,kBAAkB,CAACL,GAAD,CAA1E;AACAG,EAAAA,aAAa,CAAC7B,MAAd,GAAuB,QAAvB;AACA6B,EAAAA,aAAa,CAACG,QAAd,GAAyB,eAAzB;AACAH,EAAAA,aAAa,CAACI,KAAd;AACH,CA1DM","sourcesContent":["function createNewRow() {\n    var newForm = document.createElement('form'),\n        target = document.querySelector('div#ad-units'),\n        inner = '<div class=\\\"mdl-textfield mdl-js-textfield\\\">\\r\\n\\t<input class=\\\"mdl-textfield__input\\\" type=\\\"text\\\" id=\\\"sample1\\\">\\r\\n\\t<label class=\\\"mdl-textfield__label\\\" for=\\\"sample1\\\">sitename-lb<\\/label>\\r\\n<\\/div>\\r\\n<div class=\\\"mdl-textfield mdl-js-textfield\\\">\\r\\n\\t<input class=\\\"mdl-textfield__input\\\" type=\\\"text\\\" id=\\\"sample1\\\">\\r\\n\\t<label class=\\\"mdl-textfield__label\\\" for=\\\"sample1\\\">728x90,970x250,320x50<\\/label>\\r\\n<\\/div>\\r\\n<div class=\\\"mdl-textfield mdl-js-textfield\\\">\\r\\n\\t<input class=\\\"mdl-textfield__input\\\" type=\\\"text\\\" id=\\\"sample1\\\">\\r\\n\\t<label class=\\\"mdl-textfield__label\\\" for=\\\"sample1\\\">uap-sitename, wp-sitename<\\/label>\\r\\n<\\/div>';\n\n    newForm.innerHTML = inner;\n    target.appendChild(newForm);\n}\n\nfunction removeComma(string) {\n    var removed = string.replace(/,/g, ';');\n    return removed;\n}\n\nexport const generateCsv = (rowData) => {\n\n    const data = [];\n    // globalPlacemnt = document.forms[0][0].value,\n    // formData = document.querySelectorAll('#ad-units form')\n\n\n    rowData.forEach((ob, index, arr) => {\n\n        // [\"sitename\", \"sitename\", \"sizes\", \",\", \"Seite;placement;place2\", \"_blank,\"]\n        var wSitePlacement = ob.website ? ob.website + \";\" : \"\" + ob.placement.replace(/,/g, ';');\n        const temp = [ob.unit, ob.unit, ob.sizes, \",\", wSitePlacement.trim(), \"_blank,\"];\n        data.push(temp);\n    });\n    console.log('rowData', data);\n\n    // for (i = 0; i < formData.length; i++) {\n    //     dataRow = []\n    //     //AD CODE and NAME\n    //     dataRow.push(formData[i][0].value)\n    //     dataRow.push(formData[i][0].value)\n\n    //     //sizes\n    //     dataRow.push(removeComma(formData[i][1].value))\n    //     dataRow.push(',')\n\n    //     //placements\n    //     //case1: global placemnts + ad unit placement\n    //     if (document.forms[0][0].value != \"\" && formData[i][2].value != \"\") {\n    //         dataRow.push(removeComma((document.forms[0][0].value + ',' + formData[i][2].value)))\n    //     }\n    //     //case2: no global placement + ad unit placement\n    //     else if (document.forms[0][0].value == \"\" && formData[i][2].value != \"\") {\n    //         dataRow.push(removeComma(formData[i][2].value));\n    //     }\n    //     //case3: global placement + no ad unit placement;\n    //     else if (document.forms[0][0].value != \"\" && formData[i][2].value == \"\") {\n    //         dataRow.push(removeComma(document.forms[0][0].value));\n    //     }\n    //     dataRow.push('_blank,')\n\n    //     data.push(dataRow);\n\n    // }\n    // console.log(data)\n\n    var csv = '';\n    data.forEach(function (row) {\n        csv += row.join(',');\n        csv += \"\\n\";\n    });\n\n    console.log(csv);\n    var hiddenElement = document.createElement('a');\n    hiddenElement.href = 'data:application/octet-stream,' + encodeURIComponent(csv);\n    hiddenElement.target = '_blank';\n    hiddenElement.download = 'BulkUnits.csv';\n    hiddenElement.click();\n}"]},"metadata":{},"sourceType":"module"}