{"ast":null,"code":"function createNewRow() {\n  var newForm = document.createElement('form'),\n      target = document.querySelector('div#ad-units'),\n      inner = '<div class=\\\"mdl-textfield mdl-js-textfield\\\">\\r\\n\\t<input class=\\\"mdl-textfield__input\\\" type=\\\"text\\\" id=\\\"sample1\\\">\\r\\n\\t<label class=\\\"mdl-textfield__label\\\" for=\\\"sample1\\\">sitename-lb<\\/label>\\r\\n<\\/div>\\r\\n<div class=\\\"mdl-textfield mdl-js-textfield\\\">\\r\\n\\t<input class=\\\"mdl-textfield__input\\\" type=\\\"text\\\" id=\\\"sample1\\\">\\r\\n\\t<label class=\\\"mdl-textfield__label\\\" for=\\\"sample1\\\">728x90,970x250,320x50<\\/label>\\r\\n<\\/div>\\r\\n<div class=\\\"mdl-textfield mdl-js-textfield\\\">\\r\\n\\t<input class=\\\"mdl-textfield__input\\\" type=\\\"text\\\" id=\\\"sample1\\\">\\r\\n\\t<label class=\\\"mdl-textfield__label\\\" for=\\\"sample1\\\">uap-sitename, wp-sitename<\\/label>\\r\\n<\\/div>';\n  newForm.innerHTML = inner;\n  target.appendChild(newForm);\n}\n\nfunction removeComma(string) {\n  var removed = string.replace(/,/g, ';');\n  return removed;\n}\n\nexport const generateCsv = rowData => {\n  const data = []; // globalPlacemnt = document.forms[0][0].value,\n  // formData = document.querySelectorAll('#ad-units form')\n\n  rowData.forEach((ob, index, arr) => {\n    // [\"sitename\", \"sitename\", \"sizes\", \",\", \"Seite;placement;place2\", \"_blank,\"]\n    const wSitePlacement = ob.website + \";\" + ob.placement.replace(/,/g, ';');\n    const temp = [ob.unit, ob.unit, ob.sizes, \",\",, \"_blank,\"];\n    console.log('rowData', ob, index, arr);\n  }); // for (i = 0; i < formData.length; i++) {\n  //     dataRow = []\n  //     //AD CODE and NAME\n  //     dataRow.push(formData[i][0].value)\n  //     dataRow.push(formData[i][0].value)\n  //     //sizes\n  //     dataRow.push(removeComma(formData[i][1].value))\n  //     dataRow.push(',')\n  //     //placements\n  //     //case1: global placemnts + ad unit placement\n  //     if (document.forms[0][0].value != \"\" && formData[i][2].value != \"\") {\n  //         dataRow.push(removeComma((document.forms[0][0].value + ',' + formData[i][2].value)))\n  //     }\n  //     //case2: no global placement + ad unit placement\n  //     else if (document.forms[0][0].value == \"\" && formData[i][2].value != \"\") {\n  //         dataRow.push(removeComma(formData[i][2].value));\n  //     }\n  //     //case3: global placement + no ad unit placement;\n  //     else if (document.forms[0][0].value != \"\" && formData[i][2].value == \"\") {\n  //         dataRow.push(removeComma(document.forms[0][0].value));\n  //     }\n  //     dataRow.push('_blank,')\n  //     data.push(dataRow);\n  // }\n  // console.log(data)\n  // var csv = '';\n  // data.forEach(function (row) {\n  //     csv += row.join(',');\n  //     csv += \"\\n\";\n  // });\n  // console.log(csv);\n  // var hiddenElement = document.createElement('a');\n  // hiddenElement.href = 'data:application/octet-stream,' + encodeURIComponent(csv);\n  // hiddenElement.target = '_blank';\n  // hiddenElement.download = 'BulkUnits.csv';\n  // hiddenElement.click();\n};","map":{"version":3,"sources":["/Users/hagen.handtke/Documents/urban_integration/src/services/CsvGenerationService.js"],"names":["createNewRow","newForm","document","createElement","target","querySelector","inner","innerHTML","appendChild","removeComma","string","removed","replace","generateCsv","rowData","data","forEach","ob","index","arr","wSitePlacement","website","placement","temp","unit","sizes","console","log"],"mappings":"AAAA,SAASA,YAAT,GAAwB;AACpB,MAAIC,OAAO,GAAGC,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAd;AAAA,MACIC,MAAM,GAAGF,QAAQ,CAACG,aAAT,CAAuB,cAAvB,CADb;AAAA,MAEIC,KAAK,GAAG,wpBAFZ;AAIAL,EAAAA,OAAO,CAACM,SAAR,GAAoBD,KAApB;AACAF,EAAAA,MAAM,CAACI,WAAP,CAAmBP,OAAnB;AACH;;AAED,SAASQ,WAAT,CAAqBC,MAArB,EAA6B;AACzB,MAAIC,OAAO,GAAGD,MAAM,CAACE,OAAP,CAAe,IAAf,EAAqB,GAArB,CAAd;AACA,SAAOD,OAAP;AACH;;AAED,OAAO,MAAME,WAAW,GAAIC,OAAD,IAAa;AAEpC,QAAMC,IAAI,GAAG,EAAb,CAFoC,CAGpC;AACA;;AAGAD,EAAAA,OAAO,CAACE,OAAR,CAAgB,CAACC,EAAD,EAAKC,KAAL,EAAYC,GAAZ,KAAoB;AAEhC;AACA,UAAMC,cAAc,GAAGH,EAAE,CAACI,OAAH,GAAa,GAAb,GAAmBJ,EAAE,CAACK,SAAH,CAAaV,OAAb,CAAqB,IAArB,EAA2B,GAA3B,CAA1C;AACA,UAAMW,IAAI,GAAG,CAACN,EAAE,CAACO,IAAJ,EAAUP,EAAE,CAACO,IAAb,EAAmBP,EAAE,CAACQ,KAAtB,EAA6B,GAA7B,GAAoC,SAApC,CAAb;AAEAC,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBV,EAAvB,EAA2BC,KAA3B,EAAkCC,GAAlC;AACH,GAPD,EAPoC,CAepC;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACH,CAzDM","sourcesContent":["function createNewRow() {\n    var newForm = document.createElement('form'),\n        target = document.querySelector('div#ad-units'),\n        inner = '<div class=\\\"mdl-textfield mdl-js-textfield\\\">\\r\\n\\t<input class=\\\"mdl-textfield__input\\\" type=\\\"text\\\" id=\\\"sample1\\\">\\r\\n\\t<label class=\\\"mdl-textfield__label\\\" for=\\\"sample1\\\">sitename-lb<\\/label>\\r\\n<\\/div>\\r\\n<div class=\\\"mdl-textfield mdl-js-textfield\\\">\\r\\n\\t<input class=\\\"mdl-textfield__input\\\" type=\\\"text\\\" id=\\\"sample1\\\">\\r\\n\\t<label class=\\\"mdl-textfield__label\\\" for=\\\"sample1\\\">728x90,970x250,320x50<\\/label>\\r\\n<\\/div>\\r\\n<div class=\\\"mdl-textfield mdl-js-textfield\\\">\\r\\n\\t<input class=\\\"mdl-textfield__input\\\" type=\\\"text\\\" id=\\\"sample1\\\">\\r\\n\\t<label class=\\\"mdl-textfield__label\\\" for=\\\"sample1\\\">uap-sitename, wp-sitename<\\/label>\\r\\n<\\/div>';\n\n    newForm.innerHTML = inner;\n    target.appendChild(newForm);\n}\n\nfunction removeComma(string) {\n    var removed = string.replace(/,/g, ';');\n    return removed;\n}\n\nexport const generateCsv = (rowData) => {\n\n    const data = [];\n    // globalPlacemnt = document.forms[0][0].value,\n    // formData = document.querySelectorAll('#ad-units form')\n\n\n    rowData.forEach((ob, index, arr) => {\n\n        // [\"sitename\", \"sitename\", \"sizes\", \",\", \"Seite;placement;place2\", \"_blank,\"]\n        const wSitePlacement = ob.website + \";\" + ob.placement.replace(/,/g, ';');\n        const temp = [ob.unit, ob.unit, ob.sizes, \",\", , \"_blank,\"];\n\n        console.log('rowData', ob, index, arr);\n    });\n    // for (i = 0; i < formData.length; i++) {\n    //     dataRow = []\n    //     //AD CODE and NAME\n    //     dataRow.push(formData[i][0].value)\n    //     dataRow.push(formData[i][0].value)\n\n    //     //sizes\n    //     dataRow.push(removeComma(formData[i][1].value))\n    //     dataRow.push(',')\n\n    //     //placements\n    //     //case1: global placemnts + ad unit placement\n    //     if (document.forms[0][0].value != \"\" && formData[i][2].value != \"\") {\n    //         dataRow.push(removeComma((document.forms[0][0].value + ',' + formData[i][2].value)))\n    //     }\n    //     //case2: no global placement + ad unit placement\n    //     else if (document.forms[0][0].value == \"\" && formData[i][2].value != \"\") {\n    //         dataRow.push(removeComma(formData[i][2].value));\n    //     }\n    //     //case3: global placement + no ad unit placement;\n    //     else if (document.forms[0][0].value != \"\" && formData[i][2].value == \"\") {\n    //         dataRow.push(removeComma(document.forms[0][0].value));\n    //     }\n    //     dataRow.push('_blank,')\n\n    //     data.push(dataRow);\n\n    // }\n    // console.log(data)\n\n    // var csv = '';\n    // data.forEach(function (row) {\n    //     csv += row.join(',');\n    //     csv += \"\\n\";\n    // });\n\n    // console.log(csv);\n    // var hiddenElement = document.createElement('a');\n    // hiddenElement.href = 'data:application/octet-stream,' + encodeURIComponent(csv);\n    // hiddenElement.target = '_blank';\n    // hiddenElement.download = 'BulkUnits.csv';\n    // hiddenElement.click();\n}"]},"metadata":{},"sourceType":"module"}