{"ast":null,"code":"//ROP\nvar yieldlabIds = {\n  \"120x600\": \"2146125\",\n  \"160x600\": \"2146128\",\n  \"200x600\": \"2146127\",\n  \"300x100\": \"3562558\",\n  \"300x250\": \"2146130\",\n  \"300x250\": \"3562949\",\n  \"300x50\": \"3562561\",\n  \"300x600\": \"2146129\",\n  \"320x100\": \"3561911\",\n  \"320x480\": \"3562349\",\n  \"320x50\": \"3562953\",\n  \"728x90\": \"3889479\",\n  \"800x250\": \"3889481\",\n  \"970x250\": \"2146124\",\n  \"970x90\": \"2146126\"\n}; //news\n\n/*\nvar yieldlabIds = {\n    \"120x600\" : \"2227039\",\n    \"160x600\" : \"2227040\",\n    \"200x600\" : \"2227038\",\n    \"300x100\" : \"3562555\",\n    \"300x250\" : \"2146133\",\n    \"300x250\" : \"3889480\",\n    \"300x50\" : \"3563072\",\n    \"300x600\" : \"3889482\",\n    \"320x100\" : \"2146134\",\n    \"320x480\" : \"3562552\",\n    \"320x50\" : \"3561904\",\n    \"728x90\" : \"2227036\",\n    \"800x250\" : \"2227037\",\n    \"970x250\" : \"2227035\",\n    \"970x90\" : \"2455011\"\n}\n*/\n//criteo\n\nvar sizesInConfig = [{\n  size: '300x250',\n  pl: 'medrect1'\n}, {\n  size: '300x250',\n  pl: 'medrect2'\n}, {\n  size: '728x90',\n  pl: 'leader'\n}, {\n  size: '320x100',\n  pl: 'leader'\n}]; //hier slot Definitionen rein:\n\nvar slots = [{\n  unit: \"leaderboard\",\n  initiallyExpanded: true,\n  size: [[728, 90], [300, 50], [300, 100], [320, 50], [320, 100]],\n  sizeMapping: [[[0, 0], [[300, 50], [300, 100], [320, 50], [320, 100]]], [[601, 0], [[1, 1], [728, 90]]]],\n  targeting: {\n    pos: \"ATF\"\n  }\n}, {\n  unit: \"medrect1\",\n  initiallyExpanded: true,\n  size: [[300, 250], 'fluid'],\n  sizeMapping: [[[0, 0], [[300, 50], [300, 250], [300, 100], [320, 50], [320, 100], 'fluid']], [[601, 0], [[1, 1], [300, 250]]]]\n}, {\n  unit: \"medrect2\",\n  initiallyExpanded: true,\n  size: [[300, 250], 'fluid']\n}, {\n  unit: \"post-site-ad\",\n  size: \"out-of-page\"\n}, {\n  unit: \"medrect1-mobile\",\n  initiallyExpanded: true,\n  size: [[300, 250]],\n  sizeMapping: [[[0, 0], [[300, 250]]], [[768, 0], []]]\n}];\n\nfunction containsObject(obj, list) {\n  var i;\n\n  for (i = 0; i < list.length; i++) {\n    if (list[i] === obj) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nvar bidderConfigYL = [];\nsizesInConfig.forEach(function (item) {\n  //console.log(\"checking \" + item.pl)\n  slots.forEach(function (elem) {\n    var abort = false;\n\n    if (elem.unit.indexOf(item.pl) > -1) {\n      //console.log(\"check for elem successful. checking sizes\")\n      //console.log(elem)\n      //check for sizeMappings\n      if (elem.sizeMapping) {\n        for (var i = 0; i < elem.sizeMapping.length && !abort; i++) {\n          //console.log(\"checking row \"+ (i+1)+\" of \"+elem.sizeMapping.length)\n          var row = elem.sizeMapping[i][1]; //eigene Funktion machen, wird sowohl bei SizeMapping ohne benutzt\n\n          for (var k = 0; k < row.length && !abort; k++) {\n            var currSize = row[k][0].toString() + \"x\" + row[k][1].toString();\n\n            if (currSize == item.size) {\n              //console.log(\"configSize in row. pushing to variable and abort loop\");\n              var abort = true;\n              var rowArr = [];\n              row.forEach(function (rowSize) {\n                rowArr.push(rowSize[0].toString() + \"x\" + rowSize[1].toString());\n              });\n\n              for (z = 0; z < rowArr.length; z++) {\n                if (yieldlabIds[rowArr[z]]) {\n                  var newObj = {};\n                  newObj.size = item.size;\n                  newObj.pl = item.pl;\n                  newObj.id = yieldlabIds[rowArr[z]];\n                  newObj.bidderSize = rowArr[z]; //braucht rework\n\n                  if (!containsObject(newObj, bidderConfigYL)) {\n                    bidderConfigYL.push(newObj);\n                  } //console.log(\"pushing obj\");\n\n                }\n              }\n              /*\n              if(bidderConfigYL.length ==0){\n                  bidderConfigYL.push(item)\n              }\n              else if(!bidderConfigYL.includes(item)){\n                      bidderConfigYL.push(item)                                   \n              }\n              \n              \n              if(bidderConfigYL.includes(item)){\n                  // match YL sizes\n                  for(var z=0; z<row.length; z++){\n                      var ylcheckSize = row[z][0].toString()+\"x\"+row[z][1].toString();\n                      if(yieldlabIds[ylcheckSize]){\n                          if(typeof item.id == \"undefined\"){\n                              item.id = yieldlabIds[ylcheckSize];\n                              item.bidderSize = ylcheckSize;\n                          }\n                          //falls bereits geschrieben, erstelle neues Objekt.\n                          else {\n                              for (var o=0; o<bidderConfigYL.length; o++ ){\n                                  if(bidderConfigYL[o].size == item.size && bidderConfigYL[o].bidderSize == ylcheckSize){\n                                      console.log(\"found in size\")\n                                      //break;\n                                  }else{\n                                      var newObj = {}\n                                      newObj.size = item.size;\n                                      newObj.pl = item.pl;\n                                      newObj.id = yieldlabIds[ylcheckSize];\n                                      newObj.bidderSize = ylcheckSize;\n              ​\n                                      //pushe in bidderConfigYL\n                                      if(!bidderConfigYL.includes(newObj)){\n                                          bidderConfigYL.push(newObj);\n                                      }\n                                      \n                                  }\n                              }\n                              \n                          }\n              ​\n                      }\n              ​\n                  }\n              }*/\n\n            } //break\n            //console.log(\"break\")\n\n          } //console.log(\"break\")\n          //                          break\n\n        }\n      } //no sizeMapping\n      else if (!elem.sizeMapping && elem.size && Array.isArray(elem.size)) {\n          var row = elem.size; //eigene Funktion machen, wird sowohl bei SizeMapping ohne benutzt\n\n          for (var k = 0; k < row.length; k++) {\n            var currSize = row[k][0].toString() + \"x\" + row[k][1].toString();\n\n            if (currSize == item.size) {\n              //console.log(\"config in row. pushing to variable\");\n              if (bidderConfigYL.length == 0) {\n                bidderConfigYL.push(item);\n              } else if (!bidderConfigYL.includes(item)) {\n                bidderConfigYL.push(item);\n              }\n\n              if (bidderConfigYL.includes(item)) {\n                // match YL sizes\n                for (var z = 0; z < row.length; z++) {\n                  var ylcheckSize = row[z][0].toString() + \"x\" + row[z][1].toString();\n\n                  if (yieldlabIds[ylcheckSize]) {\n                    if (typeof item.id == \"undefined\") {\n                      item.id = yieldlabIds[ylcheckSize];\n                      item.bidderSize = ylcheckSize;\n                    } //falls bereits geschrieben, erstelle neues Objekt.\n                    else {\n                        var newObj = {};\n                        newObj.size = item.size;\n                        newObj.pl = item.pl;\n                        newObj.id = yieldlabIds[ylcheckSize];\n                        newObj.bidderSize = ylcheckSize;\n                        bidderConfigYL.push(newObj);\n                      }\n                  }\n                }\n              }\n            }\n          }\n        }\n    }\n  });\n});\n\nfunction getUnique(arr, comp) {\n  const unique = arr.map(e => e[comp]) // store the keys of the unique objects\n  .map((e, i, final) => final.indexOf(e) === i && i) // eliminate the dead keys & store unique objects\n  .filter(e => arr[e]).map(e => arr[e]);\n  return unique;\n}\n\nvar a = bidderConfigYL.reduce(function (accumulator, current) {\n  if (checkIfAlreadyExist(current)) {\n    return accumulator;\n  } else {\n    return accumulator.concat([current]);\n  }\n\n  function checkIfAlreadyExist(currentVal) {\n    return accumulator.some(function (item) {\n      return item.size === currentVal.size && item.id === currentVal.id && item.pl === currentVal.pl && item.bidderSize === currentVal.bidderSize;\n    });\n  }\n}, []);\n/*\n  a.forEach(function(YLconfigElem){\n    console.log(JSON.stringify(YLconfigElem));\n  })\n*/\n\nvar beforeReplace = JSON.stringify(a);\n\nconst configGenration = (sspName = \"criteo\", ropOrNot = true) => {\n  return result;\n};\n\nexport { configGenration };\nconsole.log(beforeReplace.replace(/\"id\"/, ' id').replace(/\"size\"/, ' size').replace(/\"pl\"/, ' pl').replace(/\"bidderSize\"/, ' bidderSize'));","map":{"version":3,"sources":["/Users/hagen.handtke/Documents/urban_integration/src/services/ConfigGenration.js"],"names":["yieldlabIds","sizesInConfig","size","pl","slots","unit","initiallyExpanded","sizeMapping","targeting","pos","containsObject","obj","list","i","length","bidderConfigYL","forEach","item","elem","abort","indexOf","row","k","currSize","toString","rowArr","rowSize","push","z","newObj","id","bidderSize","Array","isArray","includes","ylcheckSize","getUnique","arr","comp","unique","map","e","final","filter","a","reduce","accumulator","current","checkIfAlreadyExist","concat","currentVal","some","beforeReplace","JSON","stringify","configGenration","sspName","ropOrNot","result","console","log","replace"],"mappings":"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","sourcesContent":["//ROP\n\nvar yieldlabIds = {\n    \"120x600\": \"2146125\",\n    \"160x600\": \"2146128\",\n    \"200x600\": \"2146127\",\n    \"300x100\": \"3562558\",\n    \"300x250\": \"2146130\",\n    \"300x250\": \"3562949\",\n    \"300x50\": \"3562561\",\n    \"300x600\": \"2146129\",\n    \"320x100\": \"3561911\",\n    \"320x480\": \"3562349\",\n    \"320x50\": \"3562953\",\n    \"728x90\": \"3889479\",\n    \"800x250\": \"3889481\",\n    \"970x250\": \"2146124\",\n    \"970x90\": \"2146126\"\n}\n\n\n\n//news\n/*\nvar yieldlabIds = {\n    \"120x600\" : \"2227039\",\n    \"160x600\" : \"2227040\",\n    \"200x600\" : \"2227038\",\n    \"300x100\" : \"3562555\",\n    \"300x250\" : \"2146133\",\n    \"300x250\" : \"3889480\",\n    \"300x50\" : \"3563072\",\n    \"300x600\" : \"3889482\",\n    \"320x100\" : \"2146134\",\n    \"320x480\" : \"3562552\",\n    \"320x50\" : \"3561904\",\n    \"728x90\" : \"2227036\",\n    \"800x250\" : \"2227037\",\n    \"970x250\" : \"2227035\",\n    \"970x90\" : \"2455011\"\n}\n*/\n\n//criteo\nvar sizesInConfig = [{\n    size: '300x250',\n    pl: 'medrect1'\n}, {\n    size: '300x250',\n    pl: 'medrect2'\n}, {\n    size: '728x90',\n    pl: 'leader'\n}, {\n    size: '320x100',\n    pl: 'leader'\n}]\n\n\n//hier slot Definitionen rein:\nvar slots = [\n    {\n        unit: \"leaderboard\",\n        initiallyExpanded: true,\n        size: [\n            [728, 90], [300, 50], [300, 100], [320, 50], [320, 100]\n        ],\n        sizeMapping: [\n            [[0, 0], [[300, 50], [300, 100], [320, 50], [320, 100]]],\n            [[601, 0], [[1, 1], [728, 90]]]\n        ],\n        targeting: {\n            pos: \"ATF\"\n        }\n    },\n    {\n        unit: \"medrect1\",\n        initiallyExpanded: true,\n        size: [\n            [300, 250], 'fluid'\n        ],\n        sizeMapping: [\n            [[0, 0], [[300, 50], [300, 250], [300, 100], [320, 50], [320, 100], 'fluid']],\n            [[601, 0], [[1, 1], [300, 250]]]\n        ],\n    },\n    {\n        unit: \"medrect2\",\n        initiallyExpanded: true,\n        size: [\n            [300, 250], 'fluid'\n        ]\n    },\n    {\n        unit: \"post-site-ad\",\n        size: \"out-of-page\"\n    },\n    {\n        unit: \"medrect1-mobile\",\n        initiallyExpanded: true,\n        size: [\n            [300, 250]\n        ],\n        sizeMapping: [\n            [[0, 0], [[300, 250]]],\n            [[768, 0], []]\n        ]\n    }\n]\n\nfunction containsObject(obj, list) {\n    var i;\n    for (i = 0; i < list.length; i++) {\n        if (list[i] === obj) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\n\nvar bidderConfigYL = [];\n\nsizesInConfig.forEach(function (item) {\n    //console.log(\"checking \" + item.pl)\n    slots.forEach(\n        function (elem) {\n            var abort = false;\n            if (elem.unit.indexOf(item.pl) > -1) {\n                //console.log(\"check for elem successful. checking sizes\")\n                //console.log(elem)\n                //check for sizeMappings\n                if (elem.sizeMapping) {\n\n                    for (var i = 0; i < elem.sizeMapping.length && !abort; i++) {\n                        //console.log(\"checking row \"+ (i+1)+\" of \"+elem.sizeMapping.length)\n                        var row = elem.sizeMapping[i][1];\n\n                        //eigene Funktion machen, wird sowohl bei SizeMapping ohne benutzt\n                        for (var k = 0; k < row.length && !abort; k++) {\n                            var currSize = row[k][0].toString() + \"x\" + row[k][1].toString();\n                            if (currSize == item.size) {\n                                //console.log(\"configSize in row. pushing to variable and abort loop\");\n\n                                var abort = true;\n                                var rowArr = []\n                                row.forEach(function (rowSize) {\n                                    rowArr.push(rowSize[0].toString() + \"x\" + rowSize[1].toString())\n                                })\n\n                                for (z = 0; z < rowArr.length; z++) {\n                                    if (yieldlabIds[rowArr[z]]) {\n                                        var newObj = {}\n                                        newObj.size = item.size;\n                                        newObj.pl = item.pl;\n                                        newObj.id = yieldlabIds[rowArr[z]]\n                                        newObj.bidderSize = rowArr[z]\n\n\n                                        //braucht rework\n                                        if (!containsObject(newObj, bidderConfigYL)) {\n                                            bidderConfigYL.push(newObj);\n                                        }\n\n                                        //console.log(\"pushing obj\");\n\n                                    }\n                                }\n\n                                /*\n                                if(bidderConfigYL.length ==0){\n                                    bidderConfigYL.push(item)\n                                }\n                                else if(!bidderConfigYL.includes(item)){\n                                        bidderConfigYL.push(item)                                   \n                                }\n                                \n                                \n                                if(bidderConfigYL.includes(item)){\n                                    // match YL sizes\n                                    for(var z=0; z<row.length; z++){\n                                        var ylcheckSize = row[z][0].toString()+\"x\"+row[z][1].toString();\n                                        if(yieldlabIds[ylcheckSize]){\n                                            if(typeof item.id == \"undefined\"){\n                                                item.id = yieldlabIds[ylcheckSize];\n                                                item.bidderSize = ylcheckSize;\n                                            }\n                                            //falls bereits geschrieben, erstelle neues Objekt.\n                                            else {\n                                                for (var o=0; o<bidderConfigYL.length; o++ ){\n                                                    if(bidderConfigYL[o].size == item.size && bidderConfigYL[o].bidderSize == ylcheckSize){\n                                                        console.log(\"found in size\")\n                                                        //break;\n                                                    }else{\n                                                        var newObj = {}\n                                                        newObj.size = item.size;\n                                                        newObj.pl = item.pl;\n                                                        newObj.id = yieldlabIds[ylcheckSize];\n                                                        newObj.bidderSize = ylcheckSize;\n​\n                                                        //pushe in bidderConfigYL\n                                                        if(!bidderConfigYL.includes(newObj)){\n                                                            bidderConfigYL.push(newObj);\n                                                        }\n                                                        \n                                                    }\n                                                }\n                                                \n                                            }\n​\n                                        }\n​\n                                    }\n                                }*/\n\n\n                            }\n                            //break\n                            //console.log(\"break\")\n                        }\n                        //console.log(\"break\")\n                        //                          break\n\n                    }\n                }\n                //no sizeMapping\n                else if (!elem.sizeMapping && elem.size && Array.isArray(elem.size)) {\n                    var row = elem.size;\n                    //eigene Funktion machen, wird sowohl bei SizeMapping ohne benutzt\n                    for (var k = 0; k < row.length; k++) {\n                        var currSize = row[k][0].toString() + \"x\" + row[k][1].toString();\n                        if (currSize == item.size) {\n                            //console.log(\"config in row. pushing to variable\");\n\n                            if (bidderConfigYL.length == 0) {\n                                bidderConfigYL.push(item)\n                            }\n                            else if (!bidderConfigYL.includes(item)) {\n                                bidderConfigYL.push(item)\n                            }\n\n                            if (bidderConfigYL.includes(item)) {\n                                // match YL sizes\n                                for (var z = 0; z < row.length; z++) {\n                                    var ylcheckSize = row[z][0].toString() + \"x\" + row[z][1].toString();\n                                    if (yieldlabIds[ylcheckSize]) {\n                                        if (typeof item.id == \"undefined\") {\n                                            item.id = yieldlabIds[ylcheckSize];\n                                            item.bidderSize = ylcheckSize;\n                                        }\n                                        //falls bereits geschrieben, erstelle neues Objekt.\n                                        else {\n                                            var newObj = {}\n                                            newObj.size = item.size;\n                                            newObj.pl = item.pl;\n                                            newObj.id = yieldlabIds[ylcheckSize];\n                                            newObj.bidderSize = ylcheckSize;\n                                            bidderConfigYL.push(newObj);\n                                        }\n\n                                    }\n                                }\n                            }\n\n                        }\n                    }\n\n                }\n\n            }\n        })\n})\n\n\nfunction getUnique(arr, comp) {\n\n    const unique = arr\n        .map(e => e[comp])\n\n        // store the keys of the unique objects\n        .map((e, i, final) => final.indexOf(e) === i && i)\n\n        // eliminate the dead keys & store unique objects\n        .filter(e => arr[e]).map(e => arr[e]);\n\n    return unique;\n}\n\nvar a = bidderConfigYL.reduce(function (accumulator, current) {\n    if (checkIfAlreadyExist(current)) {\n        return accumulator\n    } else {\n        return accumulator.concat([current]);\n    }\n\n    function checkIfAlreadyExist(currentVal) {\n        return accumulator.some(function (item) {\n            return (item.size === currentVal.size &&\n                item.id === currentVal.id &&\n                item.pl === currentVal.pl &&\n                item.bidderSize === currentVal.bidderSize\n            );\n        });\n    }\n}, []);\n\n/*\n  a.forEach(function(YLconfigElem){\n    console.log(JSON.stringify(YLconfigElem));\n  })\n*/\nvar beforeReplace = JSON.stringify(a);\n\nconst configGenration = (sspName = \"criteo\", ropOrNot = true) => {\n\n\n\n\n    return result;\n}\n\n\nexport { configGenration }\nconsole.log(beforeReplace.replace(/\"id\"/, ' id').replace(/\"size\"/, ' size').replace(/\"pl\"/, ' pl').replace(/\"bidderSize\"/, ' bidderSize'))"]},"metadata":{},"sourceType":"module"}